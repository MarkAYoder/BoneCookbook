<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<title>Sensors</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="sensors">Sensors</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction">Introduction</h3>
<div class="paragraph">
<p>In this chapter, you will learn how to sense the physical world with BeagleBone Black. Various types of electronic sensors, such as cameras and microphones, can be connected to the Bone using one or more interfaces provided by the standard USB 2.0 host port, as shown in <a href="#sensors_host_port">The USB 2.0 host port</a>.</p>
</div>
<div id="sensors_host_port" class="imageblock">
<div class="content">
<img src="figures/black_hardware_details.png" alt="USB Host Port">
</div>
<div class="title">Figure 1. The USB 2.0 host port</div>
</div>
<div class="paragraph">
<p>The two 46-pin cape headers (called P8 and P9) along the long edges of the board (<a href="#sensors_P8P9_fig">The P8 and P9 cape headers</a>) provide connections for cape add-on boards, digital and analog sensors, and more.</p>
</div>
<div id="sensors_P8P9_fig" class="imageblock">
<div class="content">
<img src="figures/P8P9_bb.png" alt="Cape Headers P8 and P9">
</div>
<div class="title">Figure 2. The P8 and P9 cape headers</div>
</div>
<div class="paragraph">
<p>The simplest kind of sensor provides a single digital status, such as off or on,
and can be handled by an <em>input mode</em> of one of the Bone&#8217;s 65 general-purpose input/output (GPIO) pins. More complex sensors can be connected by using one of the Bone&#8217;s seven analog-to-digital converter (ADC) inputs or several I<sup>2</sup>C buses.</p>
</div>
<div class="paragraph">
<p><a href="#displays">[displays]</a> discusses some of the <em>output mode</em> usages of the GPIO pins.</p>
</div>
<div class="paragraph">
<p>All these examples assume that you know how to edit a file (<a href="#basics_cloud9">[basics_cloud9]</a>) and run it, either within the Cloud9 integrated development environment (IDE) or from the command line (<a href="#tips_shell">[tips_shell]</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_choosing_a_method_to_connect_your_sensor">Choosing a Method to Connect Your Sensor</h3>
<div class="sect3">
<h4 id="_problem">Problem</h4>
<div class="paragraph">
<p>You want to acquire and attach a sensor and need to understand your basic options.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution">Solution</h4>
<div class="paragraph">
<p><a href="#sensors_cape_headers">Some of the many sensor connection options on the Bone</a> shows many of the possibilities for connecting a sensor.</p>
</div>
<div id="sensors_cape_headers" class="imageblock">
<div class="content">
<img src="figures/cape-headers.png" alt="Sensor Connection Modes">
</div>
<div class="title">Figure 3. Some of the many sensor connection options on the Bone</div>
</div>
<div class="paragraph">
<p>Choosing the simplest solution available enables you to move on quickly to addressing other system aspects. By exploring each connection type, you can make more informed decisions as you seek to optimize and troubleshoot your design.</p>
</div>
</div>
<div class="sect3">
<h4 id="_discussion">Discussion</h4>

</div>
</div>
<div class="sect2">
<h3 id="sensors_getting_started">Input and Run a JavaScript Application for Talking to Sensors</h3>
<div class="sect3">
<h4 id="_problem_2">Problem</h4>
<div class="paragraph">
<p>You have your sensors all wired up and your Bone booted up, and you need to know how to enter and run your code.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_2">Solution</h4>
<div class="paragraph">
<p>You are just a few simple steps from running any of the recipes in this book.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Plug your Bone into a host computer via the USB cable (<a href="#basics_out_of_the_box">[basics_out_of_the_box]</a>).</p>
</li>
<li>
<p>Start Cloud9 (<a href="#basics_cloud9">[basics_cloud9]</a>).</p>
</li>
<li>
<p>In the bash tab (as shown in <a href="#sensors_cloud9_bash">Entering commands in the Cloud9 bash tab</a>), run the following commands:</p>
</li>
</ol>
</div>
<pre data-type="programlisting">
root@beaglebone:/var/lib/cloud9# <strong>cd</strong>
root@beaglebone:~#
</pre>
<div id="sensors_cloud9_bash" class="imageblock">
<div class="content">
<img src="figures/cloud9-bash-tab.png" alt="Cloud9 bash tab">
</div>
<div class="title">Figure 4. Entering commands in the Cloud9 bash tab</div>
</div>
<div class="paragraph">
<p>Here, we issued the <em>change directory</em> (cd) command without specifying a target directory. By default, it takes you to your home directory. Notice that the prompt has changed to reflect the change. The path changed from /var/lib/cloud9 to &amp;#x7E;. The &amp;#x7E; is a shorthand for your home directory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you log in as root, your home directory is <em>/root</em>.  That is, anyone can cd /root to get into your home directory (though directories are initially locked).  If you log in as debian, your home is <em>/home/debian</em>. If you were to create a new user called newuser, that user&#8217;s home would be <em>/home/newuser</em>. By default, all non-root (non-superuser) users have their home directories in <em>/home</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following commands create a new directory for the sensor recipes, change to it, and use touch to create an empty file called <em>pushbutton.js</em>:</p>
</div>
<pre data-type="programlisting">
root@beaglebone:/var/lib/cloud9# <strong>cd /root</strong>
root@beaglebone:~# <strong>mkdir boneSensors</strong>
root@beaglebone:~# <strong>cd boneSensors</strong>
root@beaglebone:~/boneSensors# <strong>touch pushbutton.js</strong>
</pre>
<div class="paragraph">
<p>Now, add recipe code to the newly created <em>pushbutton.js</em> file to enable it to run:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In Cloud9, in the Workspace browser on the left, go to the Preferences wheel and select Add Home to Favorites (<a href="#basics_addHome_fig">[basics_addHome_fig]</a>). Now, your home directory will show up in the Workspace file tree.</p>
</li>
<li>
<p>In the Workspace browser, expand root.</p>
</li>
<li>
<p>You will see your newly created <em>boneSensors</em> directory; expand it. You will see your empty <em>pushbutton.js</em></p>
</li>
<li>
<p>Double-click the <em>pushbutton.js</em> file to open it.</p>
</li>
<li>
<p>Paste the code for the recipe you want to run. This example uses <a href="#js_pushbutton_code">Monitoring a pushbutton using a callback function (pushbutton.js)</a>.</p>
</li>
<li>
<p>Press ^S (Ctrl-S) to save the file. (You can also go to the File menu in Cloud9 and select Save to save the file, but Ctrl-S is easier.)</p>
</li>
<li>
<p>In the bash tab, enter the following commands:</p>
</li>
</ol>
</div>
<pre data-type="programlisting">
root@beaglebone:~/boneSensors# <strong>chmod +x pushbutton.js</strong>
root@beaglebone:~/boneSensors# <strong>./pushbutton.js</strong>
Interrupt handler attached
x.value = 1
x.err   = undefined
x.value = 0
x.err   = undefined
x.value = 1
x.err   = undefined
^C
</pre>
<div class="paragraph">
<p>This process will work for any script in this book.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>In this example, I&#8217;ve called b.pinMode() asynchronously and performed the b.attachInterrupt() call within the callback function. There are cases where BoneScript version 0.2.4 might not completely finish setting up a pin&#8217;s mode when called synchronously. That might result in needing to run a program twice to overcome the error. Using asynchronous calls is the preferred strategy to avoid this issue.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_discussion_2">Discussion</h4>

</div>
</div>
<div class="sect2">
<h3 id="sensors_pushbutton">Reading the Status of a Pushbutton or Magnetic Switch (Passive On/Off Sensor)</h3>
<div class="sect3">
<h4 id="_problem_3">Problem</h4>
<div class="paragraph">
<p>You want to read a pushbutton, a magnetic switch, or other sensor that is electrically open or closed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_3">Solution</h4>
<div class="paragraph">
<p>Connect the switch to a GPIO pin and use BoneScript pinMode() and <span class="keep-together">attachInterrupt()</span> functions.</p>
</div>
<div class="paragraph">
<p>To make this recipe, you will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Breadboard and jumper wires (see <a href="#app_proto">[app_proto]</a>)</p>
</li>
<li>
<p>Pushbutton switch (see <a href="#app_misc">[app_misc]</a>)</p>
</li>
<li>
<p>Magnetic reed switch (optional, see <a href="#app_misc">[app_misc]</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can wire up either a pushbutton, a magnetic reed switch, or both on the Bone, as shown in <a href="#js_pushbutton_fig">Diagram for wiring a pushbutton and magnetic reed switch input</a>.</p>
</div>
<div id="js_pushbutton_fig" class="imageblock">
<div class="content">
<img src="figures/pushbutton_bb.png" alt="Bone with pushbutton">
</div>
<div class="title">Figure 5. Diagram for wiring a pushbutton and magnetic reed switch input</div>
</div>
<div class="paragraph">
<p>The code in <a href="#js_pushbutton_code">Monitoring a pushbutton using a callback function (pushbutton.js)</a> reads GPIO port P9_42, which is attached to the <span class="keep-together">pushbutton</span>.</p>
</div>
<div id="js_pushbutton_code" class="exampleblock">
<div class="title">Example 1. Monitoring a pushbutton using a callback function (pushbutton.js)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">#!/usr/bin/env node
var b = require('bonescript');
var button = 'P9_42';

b.pinMode(button, b.INPUT, 7, 'pulldown', 'fast', doAttach);

function doAttach(x) {
    if(x.err) {
        console.log('x.err = ' + x.err);
        return;
    }
    b.attachInterrupt(button, true, b.CHANGE, printStatus);
}

function printStatus(x) {
    if(x.attached) {
        console.log("Interrupt handler attached");
        return;
    }
    console.log('x.value = ' + x.value);
    console.log('x.err   = ' + x.err);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Put this code in a file called <em>pushbutton.js</em> following the steps in <a href="#sensors_getting_started">Input and Run a JavaScript Application for Talking to Sensors</a>. In the Cloud9 bash tab, run it by using the following commands:</p>
</div>
<pre data-type="programlisting">
bone# <strong>chmod +x ./pushbutton.js</strong>
bone# <strong>./pushbutton.js</strong>
Interrupt handler attached
x.value = 1
x.err   = undefined
x.value = 0
x.err   = undefined
</pre>
<div class="paragraph">
<p>The chmod command makes it executable (you have to do this only once), and the second command runs it. Try pushing the button. The code waits for the value of the input to change; when it changes, the new value is printed out.</p>
</div>
<div class="paragraph">
<p>You will have to press ^C (Ctrl-C) to stop the code.</p>
</div>
<div class="paragraph">
<p>If you want to use the magnetic reed switch wired as shown in <a href="#js_pushbutton_fig">Diagram for wiring a pushbutton and magnetic reed switch input</a>, change P9_42 to P9_26.</p>
</div>
</div>
<div class="sect3">
<h4 id="_discussion_3">Discussion</h4>

</div>
</div>
<div class="sect2">
<h3 id="_reading_a_position_light_or_force_sensor_variable_resistance_sensor">Reading a Position, Light, or Force Sensor (Variable Resistance Sensor)</h3>
<div class="sect3">
<h4 id="_problem_4">Problem</h4>
<div class="paragraph">
<p>You have a variable resistor, force-sensitive resistor, flex sensor, or any of a number of other sensors that output their value as a variable resistance, and you want to read their value with the Bone.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_4">Solution</h4>
<div class="paragraph">
<p>Use the Bone&#8217;s analog-to-digital converters (ADCs) and a resistor divider circuit to detect the resistance in the sensor.</p>
</div>
<div class="paragraph">
<p>The Bone has seven built-in analog inputs that can easily read a resistive value. <a href="#sensors_cape_headers_analog">Seven analog inputs on the P9 header</a> shows them on the lower part of the P9 header.</p>
</div>
<div id="sensors_cape_headers_analog" class="imageblock">
<div class="content">
<img src="figures/cape-headers-analog.png" alt="Seven analog inputs on P9 header">
</div>
<div class="title">Figure 6. Seven analog inputs on the P9 header</div>
</div>
<div class="paragraph">
<p>To make this recipe, you will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Breadboard and jumper wires (see <a href="#app_proto">[app_proto]</a>)</p>
</li>
<li>
<p>10 k&#8486; trimpot (see <a href="#app_resistor">[app_resistor]</a>)
or</p>
</li>
<li>
<p>Flex resistor (optional, see <a href="#app_resistor">[app_resistor]</a>)</p>
</li>
<li>
<p>22 k&#8486; resistor (see <a href="#app_resistor">[app_resistor]</a>)</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_a_variable_resistor_with_three_terminals">A variable resistor with three terminals</h5>
<div class="paragraph">
<p><a href="#sensors_analogIn_fig">Wiring a 10k&#8486; variable resistor (trimpot) to an ADC port</a> shows a simple variable resistor (trimpot) wired to the Bone. One end terminal is wired to the ADC 1.8 V power supply on pin P9_32, and the other end terminal is attached to the ADC ground (P9_34). The middle terminal is wired to one of the seven analog-in ports (P9_36).</p>
</div>
<div id="sensors_analogIn_fig" class="imageblock">
<div class="content">
<img src="figures/analogIn_bb.png" alt="Analog">
</div>
<div class="title">Figure 7. Wiring a 10k&#8486; variable resistor (trimpot) to an ADC port</div>
</div>
<div class="paragraph">
<p><a href="#sensors_analogIn_code">Reading an analog voltage (analogIn.js)</a> shows the BoneScript code used to read the variable resistor.
Add the code to a file called <em>analogIn.js</em> and run it; then change the resistor and run it again. The voltage read will change.</p>
</div>
<div id="sensors_analogIn_code" class="exampleblock">
<div class="title">Example 2. Reading an analog voltage (analogIn.js)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">#!/usr/bin/env node
var b = require('bonescript');

b.analogRead('P9_36', printStatus);

function printStatus(x) {
    console.log('x.value = ' + x.value.toFixed(3));
    console.log('x.err   = ' + x.err);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This code in <a href="#sensors_analogIn_code">Reading an analog voltage (analogIn.js)</a> uses .toFixed(3) to print only three digits past the decimal. Otherwise, the output could have many extra digits. Try removing .toFixed(3) and see what happens.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_a_variable_resistor_with_two_terminals">A variable resistor with two terminals</h5>
<div class="paragraph">
<p>Some resistive sensors have only two terminals, such as the flex sensor in <a href="#sensors_flexResistor_fig">Reading a two-terminal flex resistor</a>.
The resistance between its two terminals changes when it is flexed.
In this case, we need to add a fixed resistor in series with the flex sensor.
<a href="#sensors_flexResistor_fig">Reading a two-terminal flex resistor</a> shows how to wire in a 22 k&#8486; resistor to give a voltage to measure
across the flex sensor.</p>
</div>
<div id="sensors_flexResistor_fig" class="imageblock">
<div class="content">
<img src="figures/flexResistor_bb.png" alt="Flex Resistor">
</div>
<div class="title">Figure 8. Reading a two-terminal flex resistor</div>
</div>
<div class="paragraph">
<p>The code in <a href="#sensors_analogIn_code">Reading an analog voltage (analogIn.js)</a> also works for this setup.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_discussion_4">Discussion</h4>

</div>
</div>
<div class="sect2">
<h3 id="_reading_a_distance_sensor_analog_or_variable_voltage_sensor">Reading a Distance Sensor (Analog or Variable Voltage Sensor)</h3>
<div class="sect3">
<h4 id="_problem_5">Problem</h4>
<div class="paragraph">
<p>You want to measure distance with a <a href="http://bit.ly/1Mt5Elr">LV-MaxSonar-EZ1 Sonar Range Finder</a>, which outputs a voltage in proportion to the distance.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_5">Solution</h4>
<div class="paragraph">
<p>To make this recipe, you will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Breadboard and jumper wires (see <a href="#app_proto">[app_proto]</a>)</p>
</li>
<li>
<p>LV-MaxSonar-EZ1 Sonar Range Finder (see <a href="#app_misc">[app_misc]</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All you have to do is wire the EZ1 to one of the Bone&#8217;s <em>analog-in</em> pins, as shown in <a href="#sensors_ultrasonic_fig">Wiring the LV-MaxSonar-EZ1 Sonar Range Finder to the P9_33 analog-in port</a>. The device outputs ~6.4 mV/in when powered from 3.3 V.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure not to apply more than 1.8 V to the Bone&#8217;s <em>analog-in</em> pins, or you will likely damage them. In practice, this circuit should follow that rule.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="sensors_ultrasonic_fig" class="imageblock">
<div class="content">
<img src="figures/ultrasonicRange_bb.png" alt="Analog">
</div>
<div class="title">Figure 9. Wiring the LV-MaxSonar-EZ1 Sonar Range Finder to the P9_33 analog-in port</div>
</div>
<div class="paragraph">
<p><a href="#sensors_ultrasonicRange_code">Reading an analog voltage (ultrasonicRange.js)</a> shows the code that reads the sensor at a fixed interval.</p>
</div>
<div id="sensors_ultrasonicRange_code" class="exampleblock">
<div class="title">Example 3. Reading an analog voltage (ultrasonicRange.js)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">#!/usr/bin/env node
var b = require('bonescript');
var ms = 250;  // Time in milliseconds

setInterval(readRange, ms);

function readRange() {
    b.analogRead('P9_33', printStatus);
}
function printStatus(x) {
    console.log('x.value = ' + x.value);
    console.log('Distance= ' + x.value * 1.8/0.0064);
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_discussion_5">Discussion</h4>

</div>
</div>
<div class="sect2">
<h3 id="sensors_hc-sr04">Reading a Distance Sensor (Variable Pulse Width Sensor)</h3>
<div class="sect3">
<h4 id="_problem_6">Problem</h4>
<div class="paragraph">
<p>You want to use a HC-SR04 Ultrasonic Range Sensor with BeagleBone Black.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_6">Solution</h4>
<div class="paragraph">
<p>The HC-SR04 Ultrasonic Range Sensor (shown in <a href="#sensors_hc_sr04_image_fig">HC-SR04 Ultrasonic range sensor</a>) works by sending a trigger pulse to the <em>Trigger</em> input and then measuring the pulse width on the <em>Echo</em> output. The width of the pulse tells you the distance.</p>
</div>
<div id="sensors_hc_sr04_image_fig" class="imageblock">
<div class="content">
<img src="figures/hc-sr04.jpg" alt="HC-SR04 Ultrasonic Sensor">
</div>
<div class="title">Figure 10. HC-SR04 Ultrasonic range sensor</div>
</div>
<div class="paragraph">
<p>To make this recipe, you will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Breadboard and jumper wires (see <a href="#app_proto">[app_proto]</a>)</p>
</li>
<li>
<p>10 k&#8486; and 20 k&#8486; resistors (see <a href="#app_resistor">[app_resistor]</a>)</p>
</li>
<li>
<p>HC-SR04 Ultrsonic Range Sensor (see <a href="#app_misc">[app_misc]</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wire the sensor as shown in <a href="#sensors_hc-sr04_fig">Wiring an HC-SR04 ultrasonic sensor</a>. Note that the HC-SR04 is a 5 V
device, so the <em>banded</em> wire (running from P9_7 on the Bone to VCC on the range finder) attaches the HC-SR04 to the Bone&#8217;s 5 V power supply.</p>
</div>
<div id="sensors_hc-sr04_fig" class="imageblock">
<div class="content">
<img src="figures/hc-sr04-ultraSonic_bb.png" alt="Wiring an HC-SR04 Ultrasonic Sensor">
</div>
<div class="title">Figure 11. Wiring an HC-SR04 ultrasonic sensor</div>
</div>
<div class="paragraph">
<p><a href="#sensors_hc-sr04_code">Driving a HC-SR04 ultrasound sensor (hc-sr04-ultraSonic.js)</a> shows BoneScript code used to drive the HC-SR04.</p>
</div>
<div id="sensors_hc-sr04_code" class="exampleblock">
<div class="title">Example 4. Driving a HC-SR04 ultrasound sensor (hc-sr04-ultraSonic.js)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">#!/usr/bin/env node

// This is an example of reading HC-SR04 Ultrasonic Range Finder
// This version measures from the fall of the Trigger pulse 
//   to the end of the Echo pulse

var b = require('bonescript');

var trigger = 'P9_16',  // Pin to trigger the ultrasonic pulse
    echo    = 'P9_41',  // Pin to measure to pulse width related to the distance
    ms = 250;           // Trigger period in ms
    
var startTime, pulseTime;
    
b.pinMode(echo,   b.INPUT, 7, 'pulldown', 'fast', doAttach);
function doAttach(x) {
    if(x.err) {
        console.log('x.err = ' + x.err);
        return;
    }
    // Call pingEnd when the pulse ends
    b.attachInterrupt(echo, true, b.FALLING, pingEnd);
}

b.pinMode(trigger, b.OUTPUT);

b.digitalWrite(trigger, 1);     // Unit triggers on a falling edge.
                                // Set trigger to high so we call pull it low later

// Pull the trigger low at a regular interval.
setInterval(ping, ms);

// Pull trigger low and start timing.
function ping() {
    // console.log('ping');
    b.digitalWrite(trigger, 0);
    startTime = process.hrtime();
}

// Compute the total time and get ready to trigger again.
function pingEnd(x) {
    if(x.attached) {
        console.log("Interrupt handler attached");
        return;
    }
    if(startTime) {
        pulseTime = process.hrtime(startTime);
        b.digitalWrite(trigger, 1);
        console.log('pulseTime = ' + (pulseTime[1]/1000000-0.8).toFixed(3));
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>This code is more complex than others in this chapter, because we have to tell the device when to start measuring and time the return pulse.</p>
</div>
</div>
<div class="sect3">
<h4 id="_discussion_6">Discussion</h4>

</div>
</div>
<div class="sect2">
<h3 id="_accurately_reading_the_position_of_a_motor_or_dial">Accurately Reading the Position of a Motor or Dial</h3>
<div class="sect3">
<h4 id="_problem_7">Problem</h4>
<div class="paragraph">
<p>You have a motor or dial and want to detect rotation using a rotary encoder.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_7">Solution</h4>
<div class="paragraph">
<p>Use a rotary encoder (also called a <em>quadrature encoder</em>) connected to one of the Bone&#8217;s eQEP ports, as shown in <a href="#digital_rotaryEncoder_fig">Wiring a rotary encoder using eQEP2</a>.</p>
</div>
<div id="digital_rotaryEncoder_fig" class="imageblock">
<div class="content">
<img src="figures/rotaryEncoder_bb.png" alt="rotaryEncoder">
</div>
<div class="title">Figure 12. Wiring a rotary encoder using eQEP2</div>
</div>
<div class="paragraph">
<p>To make this recipe, you will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Breadboard and jumper wires (see <a href="#app_proto">[app_proto]</a>)</p>
</li>
<li>
<p>Rotary encoder (see <a href="#app_misc">[app_misc]</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We are using a quadrature rotary encoder, which has two switches inside that open and close in such a manner that you can tell which way the shaft is turning. In this particular encoder, the two switches have a common lead, which is wired to ground. It also has a pushbutton switch wired to the other side of the device, which we aren&#8217;t using.</p>
</div>
<div class="paragraph">
<p>Wire the encoder to P8_11 and P8_12, as shown in <a href="#digital_rotaryEncoder_fig">Wiring a rotary encoder using eQEP2</a>.</p>
</div>
<div class="paragraph">
<p>BeagleBone Black has built-in hardware for reading up to three encoders.
Here, we&#8217;ll use the <em>eQEP2</em> encoder. To enable it, put the code from <a href="#digital_bone_eqep2b">Configuring a rotary encoder (bone_eqep2b.dts) <sup class="footnote">[1]</sup></a> in a file called <em>bone_eqep2b.dts</em>. You can do this using Cloud9 to edit files (as shown in <a href="#basics_cloud9">[basics_cloud9]</a>) or use a more traditional editor (as shown in <a href="#tips_editing_files">[tips_editing_files]</a>).</p>
</div>
<div id="digital_bone_eqep2b" class="exampleblock">
<div class="title">Example 5. Configuring a rotary encoder (bone_eqep2b.dts) <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">/*
 * Copyright (C) 2013 Nathaniel R. Lewis - http://nathanielrlewis.com/
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 * 
 * Enable eQEP2 on the Beaglebone White and Black
 * These pins don't conflict with the HDMI
 */
/dts-v1/;
/plugin/;

/ {
    compatible = "ti,beaglebone", "ti,beaglebone-black";

    /* identification */
    part-number = "bone_eqep2";
    version     = "00A0";

    fragment@0 {
        target = &lt;&amp;am33xx_pinmux&gt;;
        __overlay__ {
            pinctrl_eqep2: pinctrl_eqep2_pins {
                pinctrl-single,pins = &lt;					 				   
		          0x038 0x24  /* P8_16 = GPIO2_12 = EQEP2_index, MODE4 */
		          0x03C 0x24  /* P8_15 = GPIO2_13 = EQEP2_strobe, MODE4 */
		          0x030 0x34  /* P8_12 = GPIO2_10 = EQEP2A_in, MODE4 */
		          0x034 0x34  /* P8_11 = GPIO2_11 = EQEP2B_in, MODE4 */
                &gt;;
            };
        };
    };
    
    fragment@1 {
        target = &lt;&amp;epwmss2&gt;;
        __overlay__ {
            status = "okay";
        };
    };
    
    fragment@2 {
    	target = &lt;&amp;eqep2&gt;;
    	__overlay__ {
        pinctrl-names = "default";
        pinctrl-0 = &lt;&amp;pinctrl_eqep2&gt;;
        count_mode = &lt; 0 &gt;;  
        /* 0 - Quadrature mode, normal 90 phase offset cha &amp; chb.  
           1 - Direction mode.  cha input = clock, chb input = direction  */
        swap_inputs = &lt; 0 &gt;; /* Are chan A &amp; chan B swapped? (0-no,1-yes) */
          invert_qa = &lt; 1 &gt;;   /* Should we invert the channel A input?  */
          invert_qb = &lt; 1 &gt;;   /* Should we invert the channel B input? 
                These are inverted because my encoder outputs drive transistors 
                that pull down the pins */
          invert_qi = &lt; 0 &gt;;   /* Should we invert the index input? */
          invert_qs = &lt; 0 &gt;;   /* Should we invert the strobe input? */
        
        status = "okay";
    	};
    };
};</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Then run the following commands:</p>
</div>
<pre data-type="programlisting">
bone# <strong>dtc -O dtb -o bone_eqep2b-00A0.dtbo -b 0 -@ bone_eqep2b.dts</strong>
bone# <strong>cp bone_eqep2b-00A0.dtbo /lib/firmware</strong>
bone# <strong>echo bone_eqep2b > /sys/devices/bone_capemgr.*/slots</strong>
</pre>
<div class="paragraph">
<p>This will enable <em>eQEP2</em> on pins P8_11 and P8_12.</p>
</div>
<div class="paragraph">
<p>Finally, add the code in <a href="#digital_rotaryEncoder_js">Reading a rotary encoder (rotaryEncoder.js)</a> to a file named <em>rotaryEncoder.js</em> and run it.</p>
</div>
<div id="digital_rotaryEncoder_js" class="exampleblock">
<div class="title">Example 6. Reading a rotary encoder (rotaryEncoder.js)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">#!/usr/bin/env node
// This uses the eQEP hardware to read a rotary encoder
// echo bone_eqep2b &gt; $SLOTS 

var b = require('bonescript'),
    fs = require('fs');
    
var eQEP0 = "/sys/devices/ocp.3/48300000.epwmss/48300180.eqep/",
    eQEP1 = "/sys/devices/ocp.3/48302000.epwmss/48302180.eqep/",
    eQEP2 = "/sys/devices/ocp.3/48304000.epwmss/48304180.eqep/",
    eQEP = eQEP2;
	
var oldData,			// pervious data read
    period = 100;	// in ms

// Set the eEQP period, convert to ns.
fs.writeFile(eQEP+'period', period*1000000, function(err) {
	if (err) throw err;
	console.log('Period updated to ' + period*1000000);
})

// Enable
fs.writeFile(eQEP+'enabled', 1, function(err) {
	if (err) throw err;
	console.log('Enabled');
})

setInterval(readEncoder, period);    // Check state every 250 ms

function readEncoder(x) {
	fs.readFile(eQEP + 'position', {encoding: 'utf8'}, printValue);
}

function printValue(err, data) {
	if (err) throw err;
	if (oldData !== data) {
		console.log('position: '+data+' speed: '+(oldData-data));
		oldData = data;
	}
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Try rotating the encoder clockwise and counter-clockwise. You&#8217;ll see an output like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Period updated to 100000000
Enabled
position: 0
 speed: NaN
position: 4
 speed: -4
position: 6
 speed: -2
position: 8
 speed: -2
position: 12
 speed: -4
position: 16
 speed: -4
position: 19
 speed: -3
position: 20
 speed: -1</code></pre>
</div>
</div>
<div class="paragraph">
<p>The values you get for speed and position will depend on which way you are turning the device and how quickly. You will need to press ^C (Ctrl-C) to end the <span class="keep-together">program</span>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_discussion_7">Discussion</h4>

</div>
<div class="sect3">
<h4 id="_see_also">See Also</h4>
<div class="paragraph">
<p>You can also measure rotation by using a variable resistor (see <a href="#sensors_analogIn_fig">Wiring a 10k&#8486; variable resistor (trimpot) to an ADC port</a>).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sensors_GPS">Acquiring Data by Using a Smart Sensor over a Serial Connection</h3>
<div class="sect3">
<h4 id="_problem_8">Problem</h4>
<div class="paragraph">
<p>You want to connect a smart sensor that uses a built-in microcontroller to stream data, such as a global positioning system (GPS), to the Bone and read the data from it.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_8">Solution</h4>
<div class="paragraph">
<p>The Bone has several serial ports (UARTs) that you can use to read data from an external microcontroller included in smart sensors, such as a GPS. Just wire one up, and you&#8217;ll soon be gathering useful data, such as your own location.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s what you&#8217;ll need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Breadboard and jumper wires (see <a href="#app_proto">[app_proto]</a>)</p>
</li>
<li>
<p>GPS receiver (see <a href="#app_misc">[app_misc]</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wire your GPS, as shown in <a href="#digital_GPS_fig">Wiring a GPS to UART 4</a>.</p>
</div>
<div id="digital_GPS_fig" class="imageblock">
<div class="content">
<img src="figures/GPS_bb.png" alt="GPS">
</div>
<div class="title">Figure 13. Wiring a GPS to UART 4</div>
</div>
<div class="paragraph">
<p>The GPS will produce raw National Marine Electronics Association (NMEA) data that&#8217;s easy for a computer to read, but not for a human.
There are many utilities to help convert such sensor data into a human-readable form. For this GPS, run the following command to load a NMEA parser:</p>
</div>
<pre data-type="programlisting">
bone# <strong>npm install -g nmea</strong>
</pre>
<div class="paragraph">
<p>Running the code in <a href="#digital_GPS_code">Talking to a GPS with UART 4 (GPS.js)</a> will print the current location every time the GPS outputs it.</p>
</div>
<div id="digital_GPS_code" class="exampleblock">
<div class="title">Example 7. Talking to a GPS with UART 4 (GPS.js)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">#!/usr/bin/env node
// Install with: npm install nmea

// Need to add exports.serialParsers = m.module.parsers;
// to the end of /usr/local/lib/node_modules/bonescript/serial.js

var b = require('bonescript');
var nmea = require('nmea');

var port = '/dev/ttyO4';
var options = {
    baudrate: 9600,
    parser: b.serialParsers.readline("\n")
};

b.serialOpen(port, options, onSerial);

function onSerial(x) {
    if (x.err) {
        console.log('***ERROR*** ' + JSON.stringify(x));
    }
    if (x.event == 'open') {
       console.log('***OPENED***');
    }
    if (x.event == 'data') {
        console.log(String(x.data));
        console.log(nmea.parse(x.data));
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If you don&#8217;t need the NMEA formatting, you can skip the npm part and remove the lines in the code that refer to it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you get an error like this</p>
</div>
<div class="paragraph">
<p>TypeError: Cannot call method 'readline' of undefined</p>
</div>
<div class="paragraph">
<p>add this line to the end of file <em>/usr/local/lib/node_modules/bonescript/serial.js</em>:</p>
</div>
<div class="paragraph">
<p>exports.serialParsers = m.module.parsers;</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_discussion_8">Discussion</h4>
<div id="cape-headers-serial_fig" class="imageblock">
<div class="content">
<img src="figures/cape-headers-serial.png" alt="UART outputs">
</div>
<div class="title">Figure 14. Table of UART outputs</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sensors_i2c_temp">Measuring a Temperature</h3>
<div class="sect3">
<h4 id="_problem_9">Problem</h4>
<div class="paragraph">
<p>You want to measure a temperature using a digital temperature sensor.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_9">Solution</h4>
<div class="paragraph">
<p>The TMP102 sensor is a common digital temperature sensor that uses a standard I<sup>2</sup>C-based serial protocol.</p>
</div>
<div class="paragraph">
<p>To make this recipe, you will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Breadboard and jumper wires (see <a href="#app_proto">[app_proto]</a>)</p>
</li>
<li>
<p>Two 4.7 k&#8486; resistors (see <a href="#app_resistor">[app_resistor]</a>)</p>
</li>
<li>
<p>TMP102 temperature sensor (see <a href="#app_ic">[app_ic]</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wire the TMP102, as shown in <a href="#sensors_i2cTemp_fig">Wiring an I<sup>2</sup>C TMP102 temperature sensor</a>.</p>
</div>
<div id="sensors_i2cTemp_fig" class="imageblock">
<div class="content">
<img src="figures/i2cTemp_bb.png" alt="I^2^C  Temp">
</div>
<div class="title">Figure 15. Wiring an I<sup>2</sup>C TMP102 temperature sensor</div>
</div>
<div class="paragraph">
<p>There are two I<sup>2</sup>C buses brought out to the headers. <a href="#sensors_cape_headers_i2c">Table of I<sup>2</sup>C outputs</a> shows that you have wired your device to I<sup>2</sup>C bus 2, but watch out: the buses aren&#8217;t always numbered the same. When you work with BoneScript, they are numbered 1 and 2, but if you work from the Linux command line, they are numbered 0 and 1. Confusing, huh?</p>
</div>
<div id="sensors_cape_headers_i2c" class="imageblock">
<div class="content">
<img src="figures/cape-headers-i2c.png" alt="I^2^C  Temp">
</div>
<div class="title">Figure 16. Table of I<sup>2</sup>C outputs</div>
</div>
<div class="paragraph">
<p>Once the I<sup>2</sup>C  device is wired up, you can use a couple handy I<sup>2</sup>C tools to test the device. Because these are Linux command-line tools, you have to use 1 as the bus number. i2cdetect, shown in <a href="#js_i2cTools">I<sup>2</sup>C tools</a>, shows which I<sup>2</sup>C  devices are on the bus. The -r flag indicates which bus to use. Our TMP102 is appearing at address 0x49. You can use the i2cget command to read the value. It returns the temperature in hexidecimal and degrees C. In this example, 0x18 = 24&#176;C, which is 75.2&#176;F. (Hmmm, the office is a bit warm today.) Try warming up the TMP102 with your finger and running i2cget again.</p>
</div>
<div id="js_i2cTools" class="exampleblock">
<div class="title">Example 8. I<sup>2</sup>C tools</div>
<div class="content">
<pre data-type="programlisting">
bone# <strong>i2cdetect -y -r 1</strong>
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- -- -- -- -- --
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
40: -- -- -- -- -- -- -- -- -- 49 -- -- -- -- -- --
50: -- -- -- -- UU UU UU UU -- -- -- -- -- -- -- --
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
70: -- -- -- -- -- -- -- --

bone# <strong>i2cget -y 1 0x49</strong>
0x18
</pre>
</div>
</div>
<div class="paragraph">
<p><a href="#js_i2cTemp_code">Reading an I<sup>2</sup>C  device (i2cTemp.js)</a> shows how to read the TMP102 from BoneScript.</p>
</div>
<div id="js_i2cTemp_code" class="exampleblock">
<div class="title">Example 9. Reading an I<sup>2</sup>C  device (i2cTemp.js)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">#!/usr/bin/env node

var b = require('bonescript');
var bus = '/dev/i2c-2'              // <b class="conum">(1)</b>
var TMP102 = 0x49;                  // <b class="conum">(2)</b>

b.i2cOpen(bus, TMP102);             // <b class="conum">(3)</b>
b.i2cReadByte(bus, onReadByte);     // <b class="conum">(4)</b>

function onReadByte(x) {            // <b class="conum">(5)</b>
    if (x.event == 'callback') {
        console.log('onReadByte: ' + JSON.stringify(x)); // <b class="conum">(6)</b>
        console.log(x.res*9/5+32 + 'F'); // <b class="conum">(7)</b>
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>This line states which bus to use. The last digit gives the BoneScript bus number.</p>
</li>
<li>
<p>This gives the address of the device on the bus.</p>
</li>
<li>
<p>This line opens the device. All I<sup>2</sup>C commands that follow will apply to this bus and device.</p>
</li>
<li>
<p>This line reads a byte from the device. The default is to read from address 0 of the selected device. Address 0 for the TMP102 is the current temperature. As soon as the register is read, the onReadByte() function is called.</p>
</li>
<li>
<p>The value, x, passed to onReadByte() is an object. The .event field of the object informs us if we have a callback.</p>
</li>
<li>
<p>If this is a callback, use console.log to display the contents of object x.</p>
</li>
<li>
<p>Finally, print the result field, x.res, after converting it to degrees F.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Run the code by using the following command:</p>
</div>
<pre data-type="programlisting">
bone# <strong>./i2cTemp.js</strong>
onReadByte: {"err":null,"res":24,"event":"callback"}
75.2F
</pre>
</div>
<div class="sect3">
<h4 id="_discussion_9">Discussion</h4>

</div>
</div>
<div class="sect2">
<h3 id="_reading_temperature_via_a_dallas_1_wire_device">Reading Temperature via a Dallas 1-Wire Device</h3>
<div class="sect3">
<h4 id="_problem_10">Problem</h4>
<div class="paragraph">
<p>You want to measure a temperature using a Dallas Semiconductor DS18B20 temperature sensor.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_10">Solution</h4>
<div class="paragraph">
<p>The DS18B20 is an interesting temperature sensor that uses Dallas Semiconductor&#8217;s 1-wire interface. The data communication requires only one wire! (However, you still need wires from ground and 3.3 V.) You can wire it to any GPIO port.</p>
</div>
<div class="paragraph">
<p>To make this recipe, you will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Breadboard and jumper wires (see <a href="#app_proto">[app_proto]</a>)</p>
</li>
<li>
<p>4.7 k&#8486; resistor (see <a href="#app_resistor">[app_resistor]</a>)</p>
</li>
<li>
<p>DS18B20 1-wire temperature sensor (see <a href="#app_ic">[app_ic]</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wire up as shown in <a href="#sensors_1-wire_fig">Wiring a Dallas 1-Wire temperature sensor <sup class="footnote">[2]</sup></a>.</p>
</div>
<div id="sensors_1-wire_fig" class="imageblock">
<div class="content">
<img src="figures/onewire_bb.png" alt="1-wire">
</div>
<div class="title">Figure 17. Wiring a Dallas 1-Wire temperature sensor <sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup></div>
</div>
<div class="paragraph">
<p>Add the code in <a href="#sensors_onewire_dts_code">Reading a temperature with a DS18B20 (BB-W1-00A0.dts)</a> to a file called <em>BB-W1-00A0.dts</em>.</p>
</div>
<div id="sensors_onewire_dts_code" class="exampleblock">
<div class="title">Example 10. Reading a temperature with a DS18B20 (BB-W1-00A0.dts)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">/dts-v1/;
/plugin/;

/ {
    compatible = "ti,beaglebone", "ti,beaglebone-black";

    part-number = "BB-W1";
    version = "00A0";

    /* state the resources this cape uses */
    exclusive-use =
	/* the pin header uses */
	"P9.20",
	/* the hardware IP uses */
	"gpio0_12";

    fragment@0 {
	target = &lt;&amp;am33xx_pinmux&gt;;
	__overlay__ {
	    dallas_w1_pins: pinmux_dallas_w1_pins {
		pinctrl-single,pins = &lt;	0x150 0x37 &gt;;
	    };
	};
    };

    fragment@1 {
	target = &lt;&amp;ocp&gt;;
	__overlay__ {
	    onewire@0 {
		compatible      = "w1-gpio";
		pinctrl-names   = "default";
		pinctrl-0       = &lt;&amp;dallas_w1_pins&gt;;
		status          = "okay";

		gpios = &lt;&amp;gpio1 2 0&gt;;
	   };
	};
    };
};</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Then run the following commands:</p>
</div>
<pre data-type="programlisting">
bone# <strong>dtc -O dtb -o BB-W1-00A0.dtbo -b 0 -@ BB-W1-00A0.dts</strong>
bone# <strong>cp BB-W1-00A0.dtbo /lib/firmware/</strong>
bone# <strong>echo BB-W1 > /sys/devices/bone_capemgr.*/slots</strong>
</pre>
<div class="paragraph">
<p>Now run the following command to discover the serial number on your device:</p>
</div>
<pre data-type="programlisting">
bone# <strong>ls /sys/bus/w1/devices/</strong>
28-00000114ef1b  28-00000128197d  w1_bus_master1
</pre>
<div class="paragraph">
<p>This shows the serial numbers for all the devices.</p>
</div>
<div class="paragraph">
<p>Finally, add the code in <a href="#sensors_onewire__code">Reading a temperature with a DS18B20 (onewire.js)</a> in to a file named <em>onewire.js</em>, edit the path assigned to w1 so that the path points to your device, and then run it.</p>
</div>
<div id="sensors_onewire__code" class="exampleblock">
<div class="title">Example 11. Reading a temperature with a DS18B20 (onewire.js)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">#!/usr/bin/env node
var b = require('bonescript');

var w1="/sys/bus/w1/devices/28-00000114ef1b/w1_slave"

setInterval(getTemp, 1000);	// read temperatue every 1000ms

function getTemp() {
    b.readTextFile(w1, printStatus);
}

function printStatus(x) {
    console.log('x.data = ' + x.data);
    console.log('x.err  = ' + x.err);
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_discussion_10">Discussion</h4>
<div class="paragraph">
<p>Each temperature sensor has a unique serial number, so you can have several all sharing the same data line.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sensors_sensortag">Sensing All Sorts of Things with SensorTag via Bluetooth v4.0</h3>
<div class="sect3">
<h4 id="_problem_11">Problem</h4>
<div class="paragraph">
<p>You have a TI SensorTag, and you want to interface it to BeagleBone Black via Bluetooth Low Energy (BLE).</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_11">Solution</h4>
<div class="paragraph">
<p>TI&#8217;s <a href="http://bit.ly/1C58WIN">SensorTag</a> (shown in <a href="#sensors_sensortag_fig">SensorTag</a>) combines six sensors (temperature, humidity, accelerometer, pressure, magnetometer, and gyroscope) in one package that interfaces via <a href="http://bit.ly/1EzMo4x">Bluetooth Low Energy</a>.</p>
</div>
<div id="sensors_sensortag_fig" class="imageblock">
<div class="content">
<img src="figures/sensorTag.jpg" alt="SensorTag">
</div>
<div class="title">Figure 18. SensorTag</div>
</div>
<div class="paragraph">
<p>To make this recipe, you will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>BLE USB dongle (see <a href="#app_misc">[app_misc]</a>)</p>
</li>
<li>
<p>SensorTag (see <a href="#app_misc">[app_misc]</a>)</p>
</li>
<li>
<p>5 V adapter for the Bone</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Power up your Bone using the 5 V adapter. You need the adapter because the BLE dongle needs extra power for the radios it contains. After it is booted up, log in (<a href="#tips_shell">[tips_shell]</a>) and run the following commands:</p>
</div>
<pre data-type="programlisting">
bone# <strong>apt-get install libbluetooth-dev</strong>
bone# <strong>npm install -g sensortag</strong>
</pre>
<div class="paragraph">
<p>This installs the Bluetooth tools and the JavaScript library to talk to it.</p>
</div>
<div class="paragraph">
<p>Add the code in <a href="#sensors_sensorTag_code">Code for reading the temperature from a SensorTag (sensorTag.js)</a> to a file called <em>sensorTag.js</em> and run it.</p>
</div>
<div id="sensors_sensorTag_code" class="exampleblock">
<div class="title">Example 12. Code for reading the temperature from a SensorTag (sensorTag.js)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">#!/usr/bin/env node
// From: https://github.com/sandeepmistry/node-sensortag

// Reads temperature

var util = require('util');             // <b class="conum">(1)</b>
var async = require('async');
var SensorTag = require('sensortag');
var fs = require('fs');

console.log("Be sure sensorTag is on");

SensorTag.discover(function(sensorTag) {  // <b class="conum">(2)</b>
  console.log('sensorTag = ' + sensorTag);
  sensorTag.on('disconnect', function() {   // <b class="conum">(3)</b>
    console.log('disconnected!');
    process.exit(0);
  });

  async.series([                            // <b class="conum">(4)</b>
      function(callback) {
        console.log('connect');             // <b class="conum">(5)</b>
        sensorTag.connect(callback);
      },
      function(callback) {                  // <b class="conum">(6)</b>
        console.log('discoverServicesAndCharacteristics');
        sensorTag.discoverServicesAndCharacteristics(callback);
      },
      function(callback) {
        console.log('enableIrTemperature'); // <b class="conum">(7)</b>
        sensorTag.enableIrTemperature(callback);
      },
      function(callback) {
        setTimeout(callback, 100);          // <b class="conum">(8)</b>
      },
      function(callback) {
        console.log('readIrTemperature');   // <b class="conum">(9)</b>
        sensorTag.readIrTemperature(
          function(objectTemperature, ambientTemperature) {
            console.log('\tobject  temperature = %d C', 
                objectTemperature.toFixed(1));
            console.log('\tambient temperature = %d C', 
                ambientTemperature.toFixed(1));
            callback();
        });

        sensorTag.on('irTemperatureChange', // <b class="conum">(10)</b>
          function(objectTemperature, ambientTemperature) {
            console.log('\tobject  temperature = %d C', 
                objectTemperature.toFixed(1));
            console.log('\tambient temperature = %d C\n', 
                ambientTemperature.toFixed(1));
          });

        sensorTag.notifyIrTemperature(function() {
          console.log('notifyIrTemperature');
        });
      },
      // function(callback) {
      //   console.log('disableIrTemperature'); // <b class="conum">(11)</b>
      //   sensorTag.disableIrTemperature(callback);
      // },
      
      function(callback) {
        console.log('readSimpleRead');          // &lt;12&gt; 
        sensorTag.on('simpleKeyChange', function(left, right) {
          console.log('left: ' + left + ' right: ' + right);
          if (left &amp;&amp; right) {
            sensorTag.notifySimpleKey(callback); // <b class="conum">(13)</b>
          }
        });

        sensorTag.notifySimpleKey(function() {  // <b class="conum">(14)</b>
        });
      },
      function(callback) {
        console.log('disconnect');
        sensorTag.disconnect(callback);         // <b class="conum">(15)</b>
      }
    ]
  );
});

// The MIT License (MIT)

// Copyright (c) 2013 Sandeep Mistry

// Permission is hereby granted, free of charge, to any person obtaining a copy of
// this software and associated documentation files (the "Software"), to deal in
// the Software without restriction, including without limitation the rights to
// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
// the Software, and to permit persons to whom the Software is furnished to do so,
// subject to the following conditions:

// The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software.

// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</code></pre>
</div>
</div>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Read in the various packages that are needed.</p>
</li>
<li>
<p>SensorTag.discover checks what SensorTags are out there. When found, it calls the inline function that follows.</p>
</li>
<li>
<p><span id="callout_list_item_3">This</span> function is called when the SensorTag is disconnected.</p>
</li>
<li>
<p>Normally JavaScript does everything synchronously. Here, we want to do the following asynchronously&#8212;&#8203;that is, step-by-step, one after the other. We are passing an array to async.series(), which contains the functions to run in the order in which they appear in the array.</p>
</li>
<li>
<p>Connect to the SensorTag.</p>
</li>
<li>
<p>Discover what the SensorTag can do. This is necessary before we can give it any commands.</p>
</li>
<li>
<p>Enable temperatures. We don&#8217;t get a temperature reading yet. Rather, we&#8217;re instructing it to begin reading and report back when they are ready.</p>
</li>
<li>
<p>Wait a bit for the first temperatures to be read.</p>
</li>
<li>
<p>This specifies the function to call every time a temperature is ready. The callback is passed objectTemperature (what&#8217;s read by the touchless IR sensors) and ambientTemperature (the temperature inside the SensorTag). Try putting your hand in front of the device; the objectTemperature should go up.</p>
</li>
<li>
<p>Define the callback for when the temperature changes.</p>
</li>
<li>
<p>This commented-out code is used when you want to turn off the temperature readings.</p>
</li>
<li>
<p>Assign a callback to respond to the left and right button pushes.</p>
</li>
<li>
<p>If both buttons are pushed, pass the callback function to sensorTag.notifySimpleKey().</p>
</li>
<li>
<p>sensorTag.notifySimpleKey() doesn&#8217;t do anything in this case, but it does evaluate callback, allowing it to progress to the next and final state.</p>
</li>
<li>
<p>When we get to here, we disconnect from the SensorTag, which causes the code to exit (see <a href="#callout_list_item_3"><img src="callouts/3.png" alt="3"/></a>).</p>
</li>
</ol>
</div>
<div class="paragraph pagebreak-before">
<p>Here&#8217;s some output from the code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Be sure sensorTag is on
sensorTag = {"uuid":"9059af0b8457"}
connect
discoverServicesAndCharacteristics
enableIrTemperature
readIrTemperature
    object  temperature = 2.8 C
	ambient temperature = 0 C
readSimpleRead
notifyIrTemperature
	object  temperature = 31.8 C
	ambient temperature = 24.8 C

	object  temperature = 25.9 C
	ambient temperature = 24.8 C

	object  temperature = 27.4 C
	ambient temperature = 24.8 C

	object  temperature = 32.2 C
	ambient temperature = 24.8 C

left: false right: true
left: true right: true
left: false right: false
disconnect
disconnected!</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_discussion_11">Discussion</h4>
<div class="paragraph">
<p>Here, you see examples of how to read all the sensors. Look in <em>index.js</em> (in the same directory) to see all the methods that are defined.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sensors_audio">Playing and Recording Audio</h3>
<div class="sect3">
<h4 id="_problem_12">Problem</h4>
<div class="paragraph">
<p>BeagleBone doesn&#8217;t have audio built in, but you want to play and record files.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_12">Solution</h4>
<div class="paragraph">
<p>One approach is to buy an audio cape (<a href="#app_capes">[app_capes]</a>), but another, possibly cheaper approach is to buy a USB audio adapter,
such as the one shown in <a href="#usb_audio_dongle">A USB audio dongle</a>. Some adapters that I&#8217;ve tested are provided in <a href="#app_misc">[app_misc]</a>.</p>
</div>
<div id="usb_audio_dongle" class="imageblock">
<div class="content">
<img src="figures/audioDongle.jpg" alt="Audio Dongle">
</div>
<div class="title">Figure 19. A USB audio dongle</div>
</div>
<div class="paragraph">
<p>Drivers for the <a href="http://bit.ly/1MrAJUR">Advanced Linux Sound Architecture</a> (ALSA) are already installed on the Bone. You can list the recording and playing devices on your Bone by using aplay and arecord, as shown in <a href="#sensors_alsa">Listing the ALSA audio output and input devices on the Bone</a>. BeagleBone Black has audio-out on the HDMI interface. It&#8217;s listed as card 0 in <a href="#sensors_alsa">Listing the ALSA audio output and input devices on the Bone</a>. card 1 is my USB audio adapter&#8217;s audio out.</p>
</div>
<div id="sensors_alsa" class="exampleblock">
<div class="title">Example 13. Listing the ALSA audio output and input devices on the Bone</div>
<div class="content">
<pre data-type="programlisting">
bone# <strong>aplay -l</strong>
**** List of PLAYBACK Hardware Devices ****
card 0: Black [TI BeagleBone Black], device 0: HDMI nxp-hdmi-hifi-0 []
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: Device [C-Media USB Audio Device], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0

bone# <strong>arecord -l</strong>
**** List of CAPTURE Hardware Devices ****
card 1: Device [C-Media USB Audio Device], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
</pre>
</div>
</div>
<div class="paragraph">
<p>In the aplay output shown in <a href="#sensors_alsa">Listing the ALSA audio output and input devices on the Bone</a>, you can see the USB adapter&#8217;s audio out. By default, the Bone will send audio to the HDMI. You can change that default by creating a file in your home directory called <em>~/.asoundrc</em> and adding the code in <a href="#sensors_asoundrc">Change the default audio out by putting this in ~/.asoundrc (audio.asoundrc)</a> to it.</p>
</div>
<div id="sensors_asoundrc" class="exampleblock">
<div class="title">Example 14. Change the default audio out by putting this in ~/.asoundrc (audio.asoundrc)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">pcm.!default {
  type plug
  slave {
    pcm "hw:1,0"
  }
}
ctl.!default {
  type hw
  card 1
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>You can easily play <em>.wav</em> files with aplay:</p>
</div>
<pre data-type="programlisting">
bone# <strong>aplay test.wav</strong>
</pre>
<div class="paragraph">
<p>You can play other files in other formats by installing mplayer:</p>
</div>
<pre data-type="programlisting">
bone# <strong>apt-get update</strong>
bone# <strong>apt-get install mplayer</strong>
bone# <strong>mplayer test.mp3</strong>
</pre>
</div>
<div class="sect3">
<h4 id="_discussion_12">Discussion</h4>
<div class="paragraph">
<p>Adding the simple USB audio adapter opens up a world of audio I/O on the Bone.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. This solution first appeared on the  <a href="https://groups.google.com/forum/#!searchin/beagleboard/eQep/beagleboard/Orp3tFcNgCc/mYacP_GkCQQJ">Beagle Google Group</a>.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. This solution, written by Elias Bakken (@AgentBrum), originally appeared on <a href="http://bit.ly/1FaRbbK">Hipstercircuits</a>.
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-06-25 13:14:09 -0400
</div>
</div>
</body>
</html>